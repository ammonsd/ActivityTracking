<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Reset Password - Task Activity Management System</title>

        <!-- Favicon -->
        <link rel="icon" type="image/x-icon" th:href="@{/favicon.ico}" />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            th:href="@{/favicon-32x32.png}"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            th:href="@{/favicon-16x16.png}"
        />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            th:href="@{/apple-touch-icon.png}"
        />
        <link rel="manifest" th:href="@{/site.webmanifest}" />

        <link rel="stylesheet" th:href="@{/css/login.css}" />
        <style>
            .info-text {
                margin-bottom: 1.5rem;
                padding: 1rem;
                background-color: #e7f3ff;
                border-left: 4px solid #007bff;
                border-radius: 4px;
                color: #004085;
                font-size: 0.9rem;
                line-height: 1.5;
            }
            .form-group {
                margin-bottom: 1rem;
            }
            .form-group label {
                display: block;
                margin-bottom: 0.5rem;
                font-weight: 600;
                color: #333;
            }
            .form-group input[type="email"] {
                width: 100%;
                padding: 0.75rem;
                border: 1px solid #ddd;
                border-radius: 4px;
                font-size: 1rem;
                box-sizing: border-box;
            }
            .form-group input[type="email"]:focus {
                border-color: #007bff;
                outline: none;
                box-shadow: 0 0 5px rgba(0, 123, 255, 0.3);
            }
            .back-link {
                display: block;
                text-align: center;
                margin-top: 1rem;
                color: #007bff;
                text-decoration: none;
                font-size: 0.9rem;
            }
            .back-link:hover {
                text-decoration: underline;
            }
        </style>
    </head>
    <body>
        <div class="login-container">
            <div class="login-form">
                <h2>Task Activity Management System</h2>
                <h3
                    style="
                        text-align: center;
                        color: #666;
                        margin-bottom: 1.5rem;
                    "
                >
                    Reset Your Password
                </h3>

                <!-- Success Message -->
                <div th:if="${param.success}" class="success-message">
                    If that email address is registered, you will receive a
                    password reset link shortly.
                </div>

                <!-- Error Message -->
                <div th:if="${param.error}" class="error-message">
                    <span th:text="${errorMessage}" th:if="${errorMessage}"></span>
                    <span th:unless="${errorMessage}">Unable to process your request. Please try again.</span>
                </div>

                <div th:unless="${param.success}" class="info-text">
                    Enter your email address and we'll send you a link to reset
                    your password. The link will be valid for 15 minutes.
                </div>

                <form
                    th:unless="${param.success}"
                    th:action="@{/reset-password}"
                    method="post"
                >
                    <div class="form-group">
                        <label for="email">Email Address:</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            required
                            autofocus
                            placeholder="your.email@example.com"
                        />
                    </div>

                    <button type="submit" class="btn-login">
                        Send Reset Link
                    </button>
                </form>

                <a th:href="@{/login}" class="back-link"> ‚Üê Back to Login </a>
            </div>
        </div>

        <!-- Footer -->
        <footer
            class="footer"
            style="
                background-color: #343a40 !important;
                color: rgba(255, 255, 255, 0.7) !important;
                text-align: center !important;
                padding: 1rem !important;
                font-size: 0.9rem !important;
                position: fixed !important;
                bottom: 0 !important;
                left: 0 !important;
                right: 0 !important;
                width: 100% !important;
                z-index: 9999 !important;
                display: block !important;
            "
        >
            <p style="margin: 0">
                &copy; 2025-<span id="year"></span> | Task Activity Management System | Dean Ammons
            </p>
        </footer>
        <script>
            document.getElementById("year").textContent = new Date().getFullYear();
        </script>
    </body>
</html>
